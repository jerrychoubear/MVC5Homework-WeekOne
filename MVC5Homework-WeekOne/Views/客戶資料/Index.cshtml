@model IEnumerable<MVC5Homework_WeekOne.Models.客戶資料>
@{
    ViewBag.Title = "客戶資料";
    var 客戶分類清單 = ViewBag.客戶分類清單 as List<SelectListItem>;
}
<h2>客戶資料</h2>
<br />
<script src="~/Scripts/jquery-1.10.2.js"></script>
@using (Html.BeginForm("Index", "客戶資料", FormMethod.Post, new { id = "formSearch", @class = "form-inline" }))
{
    <label for="查詢條件_名稱">客戶名稱</label>
    <div class="form-group">
        @Html.TextBox("查詢條件_名稱", null, new { @id = "查詢條件_名稱", @class = "form-control" })
    </div>

    <label for="查詢條件_分類" class="col-form-label">客戶分類</label>
    <div class="form-group">
        @Html.DropDownList("查詢條件_分類", 客戶分類清單, "全部", new { @id = "查詢條件_分類", @class = "form-control" })
    </div>
}
<br />
<div class="form-inline">
    <div class="form-group">
        <span id="btnFind" class="btn btn-primary">Find</span>
    </div>

    <div class="form-group">
        @Html.ActionLink("Create New", "Create", null, new { @class = "btn btn-success" })
    </div>
</div>
<br />
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.客戶名稱)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.統一編號)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.電話)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.傳真)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.地址)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.客戶分類)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.客戶名稱)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.統一編號)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.電話)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.傳真)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.地址)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.客戶分類)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id = item.Id }, htmlAttributes: new { @class = "btn btn-warning" })
            @Html.ActionLink("Details", "Details", new { id = item.Id }, htmlAttributes: new { @class = "btn btn-info" })
            @Html.ActionLink("Delete", "Delete", new { id = item.Id }, htmlAttributes: new { @class = "btn btn-danger" })
        </td>
    </tr>
}
</table>
<script type="text/javascript">
    $(function () {
        var Submit = function () { $('#formSearch').submit(); };
        $('#btnFind').click(Submit);
        $('#查詢條件_分類').change(Submit)
    });
</script>
